{% extends "base.html" %}
{% block title %}{{ args.title }}{% endblock %}
{% block content %}

<h1>{{ args.title }}</h1>

<!-- Ruvin_test
<form name="input" action="/statisticsdetails/{{ args.status }}" method="get" data-ajax="false"
      onSubmit="validateForm(this)">
    From: <input type="number" name="start_year" min="{{ args.min_year }}" max="{{ args.max_year }}"
                 value="{{ args.start_year }}">
    To: <input type="number" name="end_year" min="{{ args.min_year }}" max="{{ args.max_year }}"
               value="{{ args.end_year }}">

    <input type="submit" value="Submit">
</form>

<h1>All Publications in {{ args.start_year }} {% if args.start_year != args.end_year %} - {{ args.end_year }}{% endif
    %}</h1>
Ruvin_test -->

<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/dataTables.bootstrap.css') }}">
<script type="text/javascript"
        src="{{ url_for('static', filename='js/jquery.dataTables.js') }}"></script>
<script type="text/javascript"
        src="{{ url_for('static', filename='js/dataTables.bootstrap.js') }}"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var oTable = $('#example').dataTable({
            "aaSorting": [[ 0, "asc" ]]
        });
        new FixedHeader(oTable);
    });
</script>

<script type="text/javascript" src="{{ url_for('static', filename='js/FixedHeader.js') }}"></script>
<style type="text/css" title="currentStyle">
    .FixedHeader_Cloned {
        margin-top: -7px;
        background-color: #fff;
    }
</style>

<div class="table-responsive">

    <table class="table table-striped table-bordered" id="example">
        <thead>
        <tr>
            {% for column in args.data[0] %}
            <th>{{ column }}</th>
            {% endfor %}
        </tr>
        </thead>

        <tbody>
        {% for row in args.data[1] %}
        <tr>
            {% for data_item in row %}
            <td>{{ data_item }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
        </tbody>
    </table>

</div>

<!-- Ruvin_test -->
<script>
    function validateForm(form) {
        start_year = form["start_year"].value;
        end_year = form["end_year"].value;
        if (end_year < start_year) {
            alert("Invalid date range");
            return false;
        }
        return true;
    }
</script>
<!-- Ruvin_test -->

{% endblock %}
