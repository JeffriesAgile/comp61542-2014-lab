{% extends "base.html" %}
{% block title %}{{ args.title }}{% endblock %}
{% block content %}

<h1>{{ args.title }}</h1>

<form name="input" action="/author_statistics" method="get" data-ajax="false">
    Publication type:

    <select name="pub_type">
        <option value="4">All Publications</option>
        <option value="0"
        {% if args.pub_type == 0 %} selected="selected"{% endif %}>Conference Paper</option>
        <option value="1"
        {% if args.pub_type == 1 %} selected="selected"{% endif %}>Journal</option>
        <option value="2"
        {% if args.pub_type == 2 %} selected="selected"{% endif %}>Book</option>
        <option value="3"
        {% if args.pub_type == 3 %} selected="selected"{% endif %}>Book Chapter</option>
    </select>

    <input type="submit" value="Submit">
</form>

<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/dataTables.bootstrap.css') }}">
<script type="text/javascript"
        src="{{ url_for('static', filename='js/jquery.dataTables.js') }}"></script>
<script type="text/javascript"
        src="{{ url_for('static', filename='js/dataTables.bootstrap.js') }}"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var oTable = $('#example').dataTable({
            "aaSorting": [ [6, 'asc'] ]
//            "aoColumns": [
//              null,
//              { "aDataSort": [ 1, 0 ] },
//              { "aDataSort": [ 2, 0 ] },
//              { "aDataSort": [ 3, 0 ] },
//              { "aDataSort": [ 4, 0 ] },
//              { "aDataSort": [ 5, 0 ] },
//              { "aDataSort": [ 6, 0 ] }
//            ]
        });
        new FixedHeader(oTable);
    });
</script>

<script type="text/javascript" src="{{ url_for('static', filename='js/FixedHeader.js') }}"></script>
<style type="text/css" title="currentStyle">
    .FixedHeader_Cloned {
        margin-top: -7px;
        background-color: #fff;
    }
</style>

<div class="table-responsive">

    <table class="table table-striped table-bordered" id="example">
        <thead>
        <tr>
            {% for column in args.data[0] %}
            <th {% if column == args.data[0][args.data[0]|length] %} style="display:none"{% endif %}>
                {{ column }}</th>
            {% endfor %}
        </tr>
        </thead>

        <tbody>
        {% for row in args.data[1] %}
        <tr>
            {% for data_item in row %}
            <td {% if data_item == row[row[0]|length] %} style="display:none"{% endif %}>
                {{ data_item }}</td>
            {% endfor %}
        </tr>
        {% endfor %}
        </tbody>
    </table>

</div>

{% endblock %}
